var Ye=Object.defineProperty;var ye=Object.getOwnPropertySymbols;var Ge=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable;var Ie=(r,e,t)=>e in r?Ye(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_e=(r,e)=>{for(var t in e||(e={}))Ge.call(e,t)&&Ie(r,t,e[t]);if(ye)for(var t of ye(e))We.call(e,t)&&Ie(r,t,e[t]);return r};import{S as te,i as ne,s as z,e as g,t as V,k as T,c as v,a as N,h as C,d as m,m as x,b,g as $,J as d,K as ie,j as ue,L as le,M as Le,N as Ke,O as Be,E as G,P as qe,Q as Je,R as Ze,T as ke,U as Fe,w as K,x as J,y as Z,q as R,o as D,B as ee,n as pe,p as he,l as Se,V as me}from"../chunks/index-b994bed7.js";import{w as ge}from"../chunks/index-b93e17bc.js";function Te(r,e,t){const n=r.slice();return n[9]=e[t],n}function xe(r,e){let t,n=e[9]+"",s,o,l,i,c,f,a,y,_;function h(...u){return e[5](e[9],...u)}return{key:r,first:null,c(){t=g("span"),s=V(n),o=V(":"),l=T(),i=g("input"),f=T(),a=g("br"),this.h()},l(u){t=v(u,"SPAN",{});var p=N(t);s=C(p,n),o=C(p,":"),p.forEach(m),l=x(u),i=v(u,"INPUT",{type:!0}),f=x(u),a=v(u,"BR",{}),this.h()},h(){b(i,"type","number"),i.value=c=e[3][e[9]],this.first=t},m(u,p){$(u,t,p),d(t,s),d(t,o),$(u,l,p),$(u,i,p),$(u,f,p),$(u,a,p),y||(_=ie(i,"change",h),y=!0)},p(u,p){e=u,p&8&&n!==(n=e[9]+"")&&ue(s,n),p&8&&c!==(c=e[3][e[9]])&&i.value!==c&&(i.value=c)},d(u){u&&m(t),u&&m(l),u&&m(i),u&&m(f),u&&m(a),y=!1,_()}}}function et(r){let e,t,n,s,o,l=[],i=new Map,c,f,a,y,_,h,u,p,w,S,L,W,B,H,Y,j=Object.keys(r[3]);const se=E=>E[9];for(let E=0;E<j.length;E+=1){let k=Te(r,j,E),O=se(k);i.set(O,l[E]=xe(O,k))}return{c(){e=g("div"),t=g("p"),n=V("Math Variables"),s=T(),o=g("ul");for(let E=0;E<l.length;E+=1)l[E].c();c=T(),f=g("form"),a=g("span"),y=V("New Var:"),_=T(),h=g("input"),u=T(),p=g("input"),w=T(),S=g("button"),L=V("Add"),W=T(),B=g("br"),this.h()},l(E){e=v(E,"DIV",{});var k=N(e);t=v(k,"P",{});var O=N(t);n=C(O,"Math Variables"),O.forEach(m),s=x(k),o=v(k,"UL",{class:!0});var Q=N(o);for(let F=0;F<l.length;F+=1)l[F].l(Q);c=x(Q),f=v(Q,"FORM",{});var q=N(f);a=v(q,"SPAN",{});var I=N(a);y=C(I,"New Var:"),I.forEach(m),_=x(q),h=v(q,"INPUT",{type:!0}),u=x(q),p=v(q,"INPUT",{type:!0}),w=x(q),S=v(q,"BUTTON",{type:!0});var A=N(S);L=C(A,"Add"),A.forEach(m),q.forEach(m),W=x(Q),B=v(Q,"BR",{}),Q.forEach(m),k.forEach(m),this.h()},h(){b(h,"type","text"),b(p,"type","number"),b(S,"type","submit"),b(o,"class","svelte-1ccsf7o")},m(E,k){$(E,e,k),d(e,t),d(t,n),d(e,s),d(e,o);for(let O=0;O<l.length;O+=1)l[O].m(o,null);d(o,c),d(o,f),d(f,a),d(a,y),d(f,_),d(f,h),le(h,r[1]),d(f,u),d(f,p),le(p,r[2]),d(f,w),d(f,S),d(S,L),d(o,W),d(o,B),H||(Y=[ie(h,"input",r[6]),ie(p,"input",r[7]),ie(f,"submit",Le(r[8]))],H=!0)},p(E,[k]){k&24&&(j=Object.keys(E[3]),l=Ke(l,k,se,1,E,j,i,o,Ze,xe,c,Te)),k&2&&h.value!==E[1]&&le(h,E[1]),k&4&&Be(p.value)!==E[2]&&le(p,E[2])},i:G,o:G,d(E){E&&m(e);for(let k=0;k<l.length;k+=1)l[k].d();H=!1,qe(Y)}}}function tt(r,e,t){let n,s=G,o=()=>(s(),s=Je(l,u=>t(3,n=u)),l);r.$$.on_destroy.push(()=>s());let{variables:l}=e;o();const i=(u,p)=>{if(!u)return;const w=typeof p=="string"?Number.parseFloat(p):p,S={};S[u]=w,l.set(_e(_e({},n),S)),console.log(l)};let c="",f=0;const a=(u,p)=>{var w;return i(u,(w=p.currentTarget)==null?void 0:w.value)};function y(){c=this.value,t(1,c)}function _(){f=Be(this.value),t(2,f)}const h=()=>i(c,f);return r.$$set=u=>{"variables"in u&&o(t(0,l=u.variables))},[l,c,f,n,i,a,y,_,h]}class nt extends te{constructor(e){super(),ne(this,e,tt,et,z,{variables:0})}}const rt=["+","-","*","/","(",")","^"];function st(r){return r.map(e=>t=>t.replace(new RegExp("\\"+e,"g"),` ${e} `))}function ot(r){const e=s=>!!s,t=st(rt);return((s,o)=>s.reduce((l,i)=>i(l),o))(t,r.trim()).split(" ").filter(e)}function lt(r,e){return e.map(n=>{const s=r.find(o=>o.regex.test(n));return s?{type:s.type,value:n}:{type:"UNKNOWN",value:n}})}class M{constructor({debugSymbol:e,children:t}){this.debugSymbol=e,this.children=t}evaluate(e){throw console.log("Variables: ",e),new Error("NotImplemented")}simplify(e){throw console.log("Variables: ",e),new Error("Simplify not implemented.")}toString(e){throw console.log("Variables: ",e),new Error("Simplify not implemented.")}}const it={stepIndex:0,inputs:[]};class He extends M{constructor(){super({debugSymbol:"PARENTHESIS"})}}const at=new He;function ut(r){return r instanceof He}function ct(r,e){const t=[...e],n=()=>{const a=t[t.length-1];if(!a)throw new Error("Context stack is empty!");return a},s=a=>{const y=n();t.pop(),t.push(a(y))},o=a=>{s(({stepIndex:y})=>({stepIndex:y,inputs:a})),t.push(it)},l=()=>{const a=n().inputs;t.pop(),s(({stepIndex:y,inputs:_})=>{const h=_.findIndex(ut),u=_.slice(0,h),p=_.slice(h+1),w=[...u,...a,...p];return{stepIndex:y,inputs:w}})},i=n(),c=r[i.stepIndex];if(!c)return console.error("No operation available",t),t.length>1?(l(),{stack:t,done:!1}):{stack:t,done:!0};console.group(c.name);const f=c({inputs:i.inputs,contextActions:{saveContext:o}});return console.groupEnd(),f?s(({stepIndex:a})=>({stepIndex:a,inputs:f})):(console.log("Operation returned void, move to next one"),s(({stepIndex:a,inputs:y})=>({stepIndex:a+1,inputs:y}))),console.log("Stack",t),{stack:t,done:!1}}function ft(r,e,t=100){const n=[...e];let s=[{stepIndex:0,inputs:n}],o=0,l=!1;for(;!l;){if(o>=t)throw new Error("Maximum loops exceeded");const{stack:f,done:a}=ct(r,s);s=f,o=o+1,l=a}const i=s[s.length-1].inputs,c=i[i.length-1];if(c instanceof M)return c;throw new Error("Token was not parsed into an expression")}const je=r=>e=>{const t=r.processInput(e),n=r.createTokens(r.tokenDefinitions,t);return r.createTree(r.operations,n)};function pt(r,e){const t=[...r];let n=r.length;for(;n--;)if(e(r[n],n,t))return n;return-1}function de(r,e,t){const n=r.slice(0,t),s=r.slice(t);return console.log(n,e,s,"index",t),[...n,...e,...s]}var P=(r=>(r.IDENTIFIER="IDENTIFIER",r.OPEN_PARENTHESIS="OPEN_PARENTHESIS",r.CLOSE_PARENTHESIS="CLOSE_PARENTHESIS",r.MULTIPLY="MULTIPLY",r.DIVIDE="DIVIDE",r.SUBTRACT="SUBTRACT",r.ADD="ADD",r.NUMBER="NUMBER",r.SQRT="SQRT",r.EXPONENT="EXPONENT",r))(P||{});const ht={type:"NUMBER",regex:/^[+-]?([0-9]+\.?[0-9]*|\.[0-9]+)$/},dt={type:"SQRT",regex:/sqrt/},_t={type:"IDENTIFIER",regex:/^[a-z]+$/},mt={type:"IDENTIFIER",regex:/\p{Emoji}/u},gt=[{type:"OPEN_PARENTHESIS",regex:/^\($/},{type:"CLOSE_PARENTHESIS",regex:/^\)$/}],vt=[{type:"EXPONENT",regex:/^\^$/},{type:"MULTIPLY",regex:/^\*$/},{type:"DIVIDE",regex:/^\/$/},{type:"ADD",regex:/^\+$/},{type:"SUBTRACT",regex:/^-$/}],Et=[...vt,...gt,dt,ht,_t,mt];function $e(r){if(r&&!(r instanceof M))return r.value}function Qe(r){if(r&&!(r instanceof M))return r.type}function ae(r){return r instanceof M}class U extends M{constructor(e){super({debugSymbol:"NUMBER"}),this.value=e}evaluate(){return this.value}simplify(){return this}toString(e){return this.value.toString()}}class bt extends M{constructor(e){super({debugSymbol:"IDENTIFIER"}),this.identifier=e}evaluate(e={}){console.log("var",e);const t=e[this.identifier];if(typeof t=="number")return t;throw new Error(`Variable ${this.identifier} does not have a value`)}simplify(e){const t=e[this.identifier];return typeof t=="number"?new U(t):this}toString(e){const t=e[this.identifier];return typeof t=="number"?new U(t).toString(e):this.identifier}}const wt=new U(0);class ve extends M{constructor(...e){super({debugSymbol:"ADD",children:e})}evaluate(e={}){console.log("add exp",this.children);const t=this.children?this.children.reduce((n,s)=>n+s.evaluate(e),0):NaN;return console.log("add res",t),t}simplify(e){if(!this.children)throw new Error("Operation has no values");if(this.children.length!==2)throw new Error("Operation SHALL only have 2 values");const[t,n]=this.children,[s,o]=[t.simplify(e),n.simplify(e)];if(s instanceof U&&o instanceof U){const l=t.evaluate(e)+n.evaluate(e);return new U(l)}else return new ve(s,o)}}class Re extends M{constructor(...e){super({debugSymbol:"SUBTRACT",children:e})}evaluate(e={}){if(console.log("sub exp",this.children),this.children){const t=this.children[0].evaluate(e),s=this.children.slice(1).reduce((o,l)=>o-l.evaluate(e),t);return console.log("sub res",s),s}else return 9999}}class Nt extends M{constructor(...e){super({debugSymbol:"MULTIPLY",children:e})}evaluate(e={}){if(this.children){const t=this.children[0].evaluate(e);return this.children.slice(1).reduce((s,o)=>s*o.evaluate(e),t)}else return NaN}}class yt extends M{constructor(...e){super({debugSymbol:"DIVIDE",children:e})}evaluate(e={}){if(this.children){const t=this.children[0].evaluate(e);return this.children.slice(1).reduce((s,o)=>o.evaluate(e)===0?NaN:s/o.evaluate(e),t)}else return NaN}}class It extends M{constructor(...e){super({debugSymbol:"EXPONENT",children:e})}evaluate(e={}){var t,n;if(this.children){const[s,o]=this.children,l=(t=s==null?void 0:s.evaluate(e))!=null?t:NaN,i=(n=o==null?void 0:o.evaluate(e))!=null?n:NaN;return l**i}else return NaN}}class kt extends M{constructor(...e){super({debugSymbol:"SQRT",children:e})}evaluate(e={}){var t;if(this.children){const[n]=this.children,s=(t=n==null?void 0:n.evaluate(e))!=null?t:NaN;return Math.sqrt(s)}else return NaN}}function re(r,e){if(!e||e==="")throw new Error("Target is empty");return r.findIndex(t=>{if(Qe(t)===e)return!0})}function St(r,e){if(!e||e==="")throw new Error("Target is empty");return pt(r,t=>Qe(t)===e)}const Tt=({inputs:r})=>{if(re(r,P.NUMBER)!==-1)return r.map(t=>!ae(t)&&t.type===P.NUMBER?new U(Number.parseFloat(t.value)):t)},xt=({inputs:r})=>{if(re(r,P.IDENTIFIER)!==-1)return r.map(t=>!ae(t)&&t.type===P.IDENTIFIER?new bt(t.value):t)};function $t(r,e){return({inputs:t})=>{const n=re(t,r);if(n===-1){console.log("Could not find operator %s",r);return}if(t.length===1)throw new Error("No arguments given, requires one");console.table(t);const s=[...t],o=s.splice(n,2);if(console.table(o),o.length!==2)throw new Error("Requires two tokens to operate");const l=o[1]||new U(999);if(!ae(l))throw new Error("no exp");const i=e(l),c=de(s,[i],n);return console.table(c),c}}function ce(r,e){return({inputs:t})=>{const n=re(t,r);if(n===-1){console.log("Could not find operator %s",r);return}if(t.length===1)throw new Error("No arguments given, requires two");if(n===0)throw new Error("Operation is missing first argument, requires two");if(n===t.length-1)throw new Error("Operation is missing second argument, requires two");const s=[...t],o=s.splice(n-1,3);if(o.length!==3)throw new Error("Requires three tokens to operate");const l=o[0]||new U(NaN),i=o[2]||new U(NaN),c=ae(l)?l:new U(Number.parseFloat($e(l)||"0")),f=ae(i)?i:new U(Number.parseFloat($e(i)||"0")),a=e(c,f);return de(s,[a],n-1)}}function Rt(r,e,t){const n=$t(r,e),s=ce(r,t);return({inputs:o,contextActions:l})=>{const i=re(o,r);if(i===-1){console.log("Could not find operator %s",r);return}return i===0?n({inputs:o,contextActions:l}):s({inputs:o,contextActions:l})}}function Dt(r,e){return({inputs:t})=>{const n=re(t,P.SQRT);if(n===-1){console.log("Could not find function %s",r);return}if(console.log("found you"),t.length===1)throw new Error("No arguments given, requires one");console.table(t);const s=[...t],o=s.splice(n,2);if(console.table(o),o.length!==2)throw new Error("Requires two tokens to operate");const l=o[1];if(!ae(l))throw new Error("Argument must be an Expression");const i=e(l),c=de(s,[i],n);return console.table(c),c}}const Pt=Dt(P.SQRT,r=>new kt(r)),Ot=({inputs:r,contextActions:e})=>{console.log("Input",r);const t=re(r,P.OPEN_PARENTHESIS),n=St(r,P.CLOSE_PARENTHESIS);if(t===-1&&n===-1)return;if(t===-1)throw new Error("Opening parenthesis missing!");if(n===-1)throw new Error("Closing parenthesis missing!");const s=[...r],o=s.splice(t,n-t+1),l=de(s,[at],t);e.saveContext(l);const i=o.slice(1,-1);return console.log("Contained",i),i},At=ce(P.MULTIPLY,(r,e)=>new Nt(r,e)),Vt=ce(P.DIVIDE,(r,e)=>new yt(r,e)),Ct=ce(P.ADD,(r,e)=>new ve(r,e)),Mt=Rt(P.SUBTRACT,r=>new Re(wt,r),(r,e)=>new Re(r,e)),Ut=ce(P.EXPONENT,(r,e)=>new It(r,e)),Lt=[Tt,xt,Ot,Pt,Ut,Vt,At,Mt,Ct],Xe={processInput:ot,tokenDefinitions:Et,createTokens:lt,operations:Lt,createTree:ft};function De(r,e,t){const n=r.slice();return n[1]=e[t],n}function Pe(r){let e,t=r[1].value+"",n,s,o;return{c(){e=g("span"),n=V(t),this.h()},l(l){e=v(l,"SPAN",{class:!0,title:!0});var i=N(e);n=C(i,t),i.forEach(m),this.h()},h(){b(e,"class",s=ke(r[1].type)+" svelte-1wxmgvu"),b(e,"title",o=r[1].type)},m(l,i){$(l,e,i),d(e,n)},p(l,i){i&1&&t!==(t=l[1].value+"")&&ue(n,t),i&1&&s!==(s=ke(l[1].type)+" svelte-1wxmgvu")&&b(e,"class",s),i&1&&o!==(o=l[1].type)&&b(e,"title",o)},d(l){l&&m(e)}}}function Bt(r){let e,t=r[0],n=[];for(let s=0;s<t.length;s+=1)n[s]=Pe(De(r,t,s));return{c(){e=g("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=v(s,"DIV",{class:!0});var o=N(e);for(let l=0;l<n.length;l+=1)n[l].l(o);o.forEach(m),this.h()},h(){b(e,"class","debug svelte-1wxmgvu")},m(s,o){$(s,e,o);for(let l=0;l<n.length;l+=1)n[l].m(e,null)},p(s,[o]){if(o&1){t=s[0];let l;for(l=0;l<t.length;l+=1){const i=De(s,t,l);n[l]?n[l].p(i,o):(n[l]=Pe(i),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},i:G,o:G,d(s){s&&m(e),Fe(n,s)}}}function qt(r,e,t){let{tokenlist:n=[]}=e;return r.$$set=s=>{"tokenlist"in s&&t(0,n=s.tokenlist)},[n]}class Ft extends te{constructor(e){super(),ne(this,e,qt,Bt,z,{tokenlist:0})}}function Ht(r){let e,t,n;return t=new Ft({props:{tokenlist:r[0]}}),{c(){e=g("div"),K(t.$$.fragment),this.h()},l(s){e=v(s,"DIV",{class:!0});var o=N(e);J(t.$$.fragment,o),o.forEach(m),this.h()},h(){b(e,"class","debug")},m(s,o){$(s,e,o),Z(t,e,null),n=!0},p(s,[o]){const l={};o&1&&(l.tokenlist=s[0]),t.$set(l)},i(s){n||(R(t.$$.fragment,s),n=!0)},o(s){D(t.$$.fragment,s),n=!1},d(s){s&&m(e),ee(t)}}}function jt(r,e,t){let{input:n}=e,{strategy:s}=e,o=[];return r.$$set=l=>{"input"in l&&t(1,n=l.input),"strategy"in l&&t(2,s=l.strategy)},r.$$.update=()=>{if(r.$$.dirty&6)try{t(0,o=s.createTokens(s.tokenDefinitions,s.processInput(n)))}catch{console.error("tokenlist")}},[o,n,s]}class Qt extends te{constructor(e){super(),ne(this,e,jt,Ht,z,{input:1,strategy:2})}}function Oe(r,e,t){const n=r.slice();return n[3]=e[t],n}function Ae(r){let e,t;return{c(){e=g("span"),t=V(r[1])},l(n){e=v(n,"SPAN",{});var s=N(e);t=C(s,r[1]),s.forEach(m)},m(n,s){$(n,e,s),d(e,t)},p(n,s){s&2&&ue(t,n[1])},d(n){n&&m(e)}}}function Ve(r){let e,t;return e=new ze({props:{expression:r[3]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,s){Z(e,n,s),t=!0},p:G,i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function Xt(r){let e,t,n,s=r[0].debugSymbol+"",o,l,i,c,f=r[2],a=[];for(let h=0;h<f.length;h+=1)a[h]=Ve(Oe(r,f,h));const y=h=>D(a[h],1,1,()=>{a[h]=null});let _=null;return f.length||(_=Ae(r)),{c(){e=g("div"),t=g("div"),n=g("span"),o=V(s),l=T(),i=g("div");for(let h=0;h<a.length;h+=1)a[h].c();_&&_.c(),this.h()},l(h){e=v(h,"DIV",{id:!0,title:!0,class:!0});var u=N(e);t=v(u,"DIV",{id:!0,class:!0});var p=N(t);n=v(p,"SPAN",{id:!0,class:!0});var w=N(n);o=C(w,s),w.forEach(m),p.forEach(m),l=x(u),i=v(u,"DIV",{id:!0,class:!0});var S=N(i);for(let L=0;L<a.length;L+=1)a[L].l(S);_&&_.l(S),S.forEach(m),u.forEach(m),this.h()},h(){b(n,"id","nodetext"),b(n,"class","svelte-6mozwj"),b(t,"id","textbox"),b(t,"class","svelte-6mozwj"),b(i,"id","nodebox"),b(i,"class","svelte-6mozwj"),b(e,"id","container"),b(e,"title",r[1]),b(e,"class","svelte-6mozwj")},m(h,u){$(h,e,u),d(e,t),d(t,n),d(n,o),d(e,l),d(e,i);for(let p=0;p<a.length;p+=1)a[p].m(i,null);_&&_.m(i,null),c=!0},p(h,[u]){if((!c||u&1)&&s!==(s=h[0].debugSymbol+"")&&ue(o,s),u&6){f=h[2];let p;for(p=0;p<f.length;p+=1){const w=Oe(h,f,p);a[p]?(a[p].p(w,u),R(a[p],1)):(a[p]=Ve(w),a[p].c(),R(a[p],1),a[p].m(i,null))}for(pe(),p=f.length;p<a.length;p+=1)y(p);he(),!f.length&&_?_.p(h,u):f.length?_&&(_.d(1),_=null):(_=Ae(h),_.c(),_.m(i,null))}(!c||u&2)&&b(e,"title",h[1])},i(h){if(!c){for(let u=0;u<f.length;u+=1)R(a[u]);c=!0}},o(h){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)D(a[u]);c=!1},d(h){h&&m(e),Fe(a,h),_&&_.d()}}}function zt(r,e,t){let{expression:n}=e;const s=n.children||[];let o="";try{o=n.evaluate({}).toString()}catch{o=""}return r.$$set=l=>{"expression"in l&&t(0,n=l.expression)},[n,o,s]}class ze extends te{constructor(e){super(),ne(this,e,zt,Xt,z,{expression:0})}}function Ce(r){let e=r[0],t,n,s=Me(r);return{c(){s.c(),t=Se()},l(o){s.l(o),t=Se()},m(o,l){s.m(o,l),$(o,t,l),n=!0},p(o,l){l&1&&z(e,e=o[0])?(pe(),D(s,1,1,G),he(),s=Me(o),s.c(),R(s),s.m(t.parentNode,t)):s.p(o,l)},i(o){n||(R(s),n=!0)},o(o){D(s),n=!1},d(o){o&&m(t),s.d(o)}}}function Me(r){let e,t;return e=new ze({props:{expression:r[0]}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,s){Z(e,n,s),t=!0},p(n,s){const o={};s&1&&(o.expression=n[0]),e.$set(o)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function Yt(r){let e,t,n=r[0]&&Ce(r);return{c(){e=g("div"),n&&n.c(),this.h()},l(s){e=v(s,"DIV",{id:!0,class:!0});var o=N(e);n&&n.l(o),o.forEach(m),this.h()},h(){b(e,"id","exp"),b(e,"class","svelte-142e9ot")},m(s,o){$(s,e,o),n&&n.m(e,null),t=!0},p(s,[o]){s[0]?n?(n.p(s,o),o&1&&R(n,1)):(n=Ce(s),n.c(),R(n,1),n.m(e,null)):n&&(pe(),D(n,1,1,()=>{n=null}),he())},i(s){t||(R(n),t=!0)},o(s){D(n),t=!1},d(s){s&&m(e),n&&n.d()}}}function Gt(r,e,t){let{input:n}=e,{strategy:s}=e;const o=je(s);let l;return r.$$set=i=>{"input"in i&&t(1,n=i.input),"strategy"in i&&t(2,s=i.strategy)},r.$$.update=()=>{if(r.$$.dirty&2)try{t(0,l=o(n))}catch{t(0,l=void 0)}},[l,n,s]}class Wt extends te{constructor(e){super(),ne(this,e,Gt,Yt,z,{input:1,strategy:2})}}function Ue(r){let e,t,n,s;return e=new Qt({props:{strategy:r[1],input:r[0]}}),n=new Wt({props:{strategy:r[1],input:r[0]}}),{c(){K(e.$$.fragment),t=T(),K(n.$$.fragment)},l(o){J(e.$$.fragment,o),t=x(o),J(n.$$.fragment,o)},m(o,l){Z(e,o,l),$(o,t,l),Z(n,o,l),s=!0},p(o,l){const i={};l&2&&(i.strategy=o[1]),l&1&&(i.input=o[0]),e.$set(i);const c={};l&2&&(c.strategy=o[1]),l&1&&(c.input=o[0]),n.$set(c)},i(o){s||(R(e.$$.fragment,o),R(n.$$.fragment,o),s=!0)},o(o){D(e.$$.fragment,o),D(n.$$.fragment,o),s=!1},d(o){ee(e,o),o&&m(t),ee(n,o)}}}function Kt(r){let e,t,n,s,o=r[0],l,i=Ue(r);return{c(){e=g("section"),t=g("h2"),n=V("Tokens"),s=T(),i.c()},l(c){e=v(c,"SECTION",{});var f=N(e);t=v(f,"H2",{});var a=N(t);n=C(a,"Tokens"),a.forEach(m),s=x(f),i.l(f),f.forEach(m)},m(c,f){$(c,e,f),d(e,t),d(t,n),d(e,s),i.m(e,null),l=!0},p(c,[f]){f&1&&z(o,o=c[0])?(pe(),D(i,1,1,G),he(),i=Ue(c),i.c(),R(i),i.m(e,null)):i.p(c,f)},i(c){l||(R(i),l=!0)},o(c){D(i),l=!1},d(c){c&&m(e),i.d(c)}}}function Jt(r,e,t){let{input:n}=e,{strategy:s}=e;return r.$$set=o=>{"input"in o&&t(0,n=o.input),"strategy"in o&&t(1,s=o.strategy)},[n,s]}class Zt extends te{constructor(e){super(),ne(this,e,Jt,Kt,z,{input:0,strategy:1})}}function en(r){var q;let e,t,n,s,o,l,i,c,f,a,y,_,h,u,p,w,S,L,W,B,H,Y=((q=r[1])!=null?q:"No Answer")+"",j,se,E,k,O,Q;return u=new nt({props:{variables:r[4]}}),E=new Zt({props:{input:r[0],strategy:Xe}}),{c(){e=g("h1"),t=V("Calculator"),n=T(),s=g("main"),o=g("section"),l=g("h2"),i=V("Input"),c=T(),f=g("form"),a=g("input"),y=T(),_=g("input"),h=T(),K(u.$$.fragment),p=T(),w=g("section"),S=g("h2"),L=V("Result"),W=T(),B=g("div"),H=g("span"),j=V(Y),se=T(),K(E.$$.fragment),this.h()},l(I){e=v(I,"H1",{});var A=N(e);t=C(A,"Calculator"),A.forEach(m),n=x(I),s=v(I,"MAIN",{class:!0});var F=N(s);o=v(F,"SECTION",{id:!0});var X=N(o);l=v(X,"H2",{});var Ee=N(l);i=C(Ee,"Input"),Ee.forEach(m),c=x(X),f=v(X,"FORM",{});var fe=N(f);a=v(fe,"INPUT",{type:!0}),y=x(fe),_=v(fe,"INPUT",{type:!0}),fe.forEach(m),h=x(X),J(u.$$.fragment,X),X.forEach(m),p=x(F),w=v(F,"SECTION",{id:!0});var oe=N(w);S=v(oe,"H2",{});var be=N(S);L=C(be,"Result"),be.forEach(m),W=x(oe),B=v(oe,"DIV",{id:!0,class:!0});var we=N(B);H=v(we,"SPAN",{});var Ne=N(H);j=C(Ne,Y),Ne.forEach(m),we.forEach(m),se=x(oe),J(E.$$.fragment,oe),oe.forEach(m),F.forEach(m),this.h()},h(){b(a,"type","text"),b(_,"type","submit"),_.value="Submit",b(o,"id","input"),b(B,"id","resultbox"),b(B,"class","svelte-1lpl1am"),b(w,"id","result"),b(s,"class","svelte-1lpl1am")},m(I,A){$(I,e,A),d(e,t),$(I,n,A),$(I,s,A),d(s,o),d(o,l),d(l,i),d(o,c),d(o,f),d(f,a),le(a,r[0]),d(f,y),d(f,_),d(o,h),Z(u,o,null),d(s,p),d(s,w),d(w,S),d(S,L),d(w,W),d(w,B),d(B,H),d(H,j),d(w,se),Z(E,w,null),k=!0,O||(Q=[ie(a,"input",r[6]),ie(f,"submit",Le(r[5]))],O=!0)},p(I,[A]){var X;A&1&&a.value!==I[0]&&le(a,I[0]),(!k||A&2)&&Y!==(Y=((X=I[1])!=null?X:"No Answer")+"")&&ue(j,Y);const F={};A&1&&(F.input=I[0]),E.$set(F)},i(I){k||(R(u.$$.fragment,I),R(E.$$.fragment,I),k=!0)},o(I){D(u.$$.fragment,I),D(E.$$.fragment,I),k=!1},d(I){I&&m(e),I&&m(n),I&&m(s),ee(u),ee(E),O=!1,qe(Q)}}}function tn(r,e,t){let n,s,o;const l=ge("");me(r,l,_=>t(0,s=_));const i=ge("");me(r,i,_=>t(1,o=_));const c=ge({x:1,y:2});me(r,c,_=>t(7,n=_));const f=je(Xe),a=()=>{var _;console.group("parse");try{const h=(_=f(s))==null?void 0:_.evaluate(n);i.set((h==null?void 0:h.toString())||""),console.log(h)}catch(h){h instanceof Error&&i.set(h.message)}console.groupEnd()};function y(){s=this.value,l.set(s)}return[s,o,l,i,c,a,y]}class on extends te{constructor(e){super(),ne(this,e,tn,en,z,{})}}export{on as default};
